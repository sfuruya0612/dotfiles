---
- name: Clone prezto repo
  git:
    repo: "https://github.com/sorin-ionescu/prezto.git"
    dest: "{{ ansible_env.HOME }}/.zprezto"
    recursive: yes
    force: yes

- name: Symbolic link ~/dotfiles/roles/zsh/files/* -> ~/.*
  file:
    src: "{{ item.src }}"
    dest: "{{ item.dest }}"
    state: link
    force: yes
  loop:
    - src: "{{ ansible_env.HOME }}/dotfiles/roles/zsh/files/zshrc"
      dest: "{{ ansible_env.HOME }}/.zshrc"
    - src: "{{ ansible_env.HOME }}/dotfiles/roles/zsh/files/zprofile"
      dest: "{{ ansible_env.HOME }}/.zprofile"
    - src: "{{ ansible_env.HOME }}/dotfiles/roles/zsh/files/zpreztorc"
      dest: "{{ ansible_env.HOME }}/.zpreztorc"
    - src: "{{ ansible_env.HOME }}/dotfiles/roles/zsh/files/p10k.zsh"
      dest: "{{ ansible_env.HOME }}/.p10k.zsh"
